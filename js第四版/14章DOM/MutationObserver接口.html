<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
 </head>
 <body>
  <script>
   //observe()

   let observer = new MutationObserver(mutationRecords => {
    console.log(mutationRecords.map(x => x.target));
   });
   //target被影响的节点

   observer.observe(document.body, {
    attributes: true,
   });
   //(观察其变化DOM节点,以及MutationObserverInit对象)

   document.body.setAttribute('foo', 'bar');
   //返回mutationRecords的信息发生了什么变化

   let childA = document.createElement('div'),
    childB = document.createElement('span');

   document.body.appendChild(childA);
   document.body.appendChild(childB);

   observer.observe(childA, {
    attributes: true,
   });
   observer.observe(childB, {
    attributes: true,
   });
   //  observer.disconnect()停止执行回调
   //断开了observe的观察的联系
   childA.setAttribute('foo', 'bar');
   childB.setAttribute('foo', 'bar');
  </script>
 </body>
</html>
